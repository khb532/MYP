# Codex CLI Slash Commands

이 문서는 Codex CLI의 슬래시 명령어와 동작 방식을 요약한 자료입니다. 현재 릴리스 빌드(v0.42 계열)를 기준으로 하며, 향후 업데이트로 항목이 추가·변경될 수 있습니다.

## 명령어 요약

| 명령어      | 진행 중 작업에서 사용 가능 | 주요 기능 |
| ----------- | -------------------------- | --------- |
| `/model`    | ✕                          | 모델 프리셋(모델 + Reasoning Effort) 선택 팝업을 엽니다. |
| `/approvals` | ✕                          | 승인 정책과 샌드박스 모드를 동시에 바꾸는 팝업을 엽니다. |
| `/review`    | ✕                          | 코드 리뷰 모드를 선택하는 팝업(브랜치, 커밋, 변경분 등)을 엽니다. |
| `/new`       | ✕                          | 현재 CLI 세션 안에서 새 대화를 시작합니다. |
| `/init`      | ✕                          | AGENTS.md 생성을 위한 프롬프트를 자동으로 제출합니다. |
| `/compact`   | ✕                          | 대화를 요약해 컨텍스트를 비우고 토큰 사용량 표시를 초기화합니다. |
| `/undo`¹     | ✕                          | 마지막 고스트 스냅샷으로 워크스페이스를 롤백합니다. |
| `/diff`      | ○                          | 현재 Git 변경 사항(추적 + 미추적)을 컬러 diff로 출력합니다. |
| `/mention`   | ○                          | 채팅 입력란에 `@`를 삽입하여 파일 검색 팝업을 즉시 엽니다. |
| `/status`    | ○                          | 모델·승인 모드·토큰 사용량·세션 ID 등을 카드 형태로 보여줍니다. |
| `/mcp`       | ○                          | 등록된 MCP 서버/툴 목록을 출력하거나, 없음 메시지를 보여줍니다. |
| `/logout`    | ✕                          | Codex 계정에서 로그아웃하고 CLI를 종료합니다. |
| `/quit`      | ○                          | Codex CLI를 종료합니다. |

¹ `/undo`는 `BETA_FEATURE` 환경 변수가 설정된 경우에만 명령 목록에 표시됩니다.

## 세부 설명

### `/model`
- `codex_common::model_presets::builtin_model_presets`에서 인증 상태에 맞는 모델 프리셋을 불러옵니다.
- 선택 시 `OverrideTurnContext` 오퍼레이션을 전송하고, 모델/Reasoning Effort를 즉시 적용·영구 저장합니다.
- 작업 실행 중에는 호출할 수 없습니다.

### `/approvals`
- 승인 정책(`AskForApproval`)과 샌드박스 정책(`SandboxPolicy`)을 묶은 프리셋 목록을 표시합니다.
- 선택하면 현재 턴뿐 아니라 이후 턴에도 적용되도록 설정을 저장합니다.
- 작업 실행 중에는 사용할 수 없습니다.

### `/review`
- 브랜치 비교, 현재 변경분, 특정 커밋, 커스텀 지시 등 4가지 리뷰 프리셋을 제공합니다.
- 선택된 옵션에 따라 `Op::Review`를 전송하거나 추가 선택 팝업(브랜치/커밋 선택)을 띄웁니다.

### `/new`
- 현재 설정(모델, 승인, 샌드박스, workdir)을 유지한 채로 `ChatWidget`을 새 인스턴스로 재구성합니다.
- 기존 대화 내역은 history 패널에 남지만, 이후 메시지는 새 대화로 분리됩니다.

### `/init`
- `prompt_for_init_command.md`에 정의된 템플릿을 그대로 제출하여 AGENTS.md 초안을 작성하도록 Codex에 요청합니다.
- 저장 경로, 내용 편집은 사용자 확인 후 진행합니다.

### `/compact`
- Codex에게 대화 요약(`Op::Compact`)을 지시하고, UI에 누적 토큰 사용량을 초기화합니다.
- 컨텍스트 한계에 다다르기 전에 대화 내용을 압축하고 싶을 때 사용합니다.

### `/undo`
- 사용자 메시지를 보낼 때마다 생성한 Git 고스트 커밋을 역순으로 복원합니다.
- Git 리포지터리 외부에서는 자동으로 비활성화되며, 실패 시 스냅샷 기능이 꺼집니다.
- 베타 플래그(`BETA_FEATURE`)가 없으면 명령 팝업에 노출되지 않습니다.

### `/diff`
- `git diff --color` 결과와 미추적 파일에 대한 `git diff --no-index` 출력을 결합해 보여줍니다.
- Git 리포지터리가 아닐 경우 “not inside a git repository” 메시지를 출력합니다.

### `/mention`
- 채팅 입력란에 `@`를 입력한 것과 동일하게 동작하며, 파일 검색 팝업이 열립니다.
- 검색 결과에서 Enter/Tab으로 경로를 삽입할 수 있습니다.

### `/status`
- 현재 모델, 승인/샌드박스 모드, 작업 디렉터리, 세션 ID, AGENTS 적용 상태, 토큰/컨텍스트 사용량, 레이트리밋 정보를 카드 형태로 제공합니다.
- Codex CLI 버전과 계정 정보도 함께 표시됩니다.

### `/mcp`
- MCP 서버가 구성된 경우 `Op::ListMcpTools`를 전송해 툴 목록을 표 형식으로 보여줍니다.
- 서버가 없으면 문서 링크와 함께 “No MCP servers configured.” 안내를 출력합니다.

### `/logout`
- 로컬 인증 정보를 삭제(`codex_core::auth::logout`)한 뒤 CLI를 종료합니다.
- 재실행 시 로그인 절차를 다시 밟아야 합니다.

### `/quit`
- 현재 작업 중이라도 즉시 Codex CLI를 종료합니다.

## 기타 슬래시 엔트리

- **디버그 전용**: 개발 빌드에서는 `/test-approval` 명령이 노출되어 승인 요청 UI를 테스트할 수 있습니다. 배포 바이너리에는 포함되지 않습니다.
- **커스텀 프롬프트**: 서버가 제공하는 사용자 정의 프롬프트는 `/prompts:<이름>` 형식으로 추가됩니다. 인자 전달은 `KEY=VALUE` 형태를 지원합니다. 예) `/prompts:daily-review TARGET=EngineModule`.

## 활용 팁

- 슬래시 명령 팝업은 입력 창에서 `/` 입력 시 열리며, 검색어를 입력해 빠르게 필터링할 수 있습니다.
- 작업 실행 중에는 `/diff`, `/mention`, `/status`, `/mcp`, `/quit`만 허용됩니다. 다른 명령은 작업이 끝난 뒤 다시 시도해야 합니다.
- 베타 기능을 체험하려면 Codex CLI 실행 전 `BETA_FEATURE=1` 환경 변수를 설정한 뒤 `/undo`를 사용하세요.


